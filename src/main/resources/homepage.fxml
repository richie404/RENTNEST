<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="HomepageController"
            stylesheets="@homepage.css">

    <!-- ===== Top: Header + Search Bar ===== -->
    <top>
        <VBox spacing="12">

            <!-- Header -->
            <HBox spacing="18" alignment="CENTER_LEFT"
                  style="-fx-background-color: #591734; -fx-padding: 20 32 20 32;">
                <Label fx:id="welcomeLabel" text="Welcome to RentNest 🏠"
                       style="-fx-text-fill: white; -fx-font-size: 28px; -fx-font-weight: 800;"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <Hyperlink fx:id="loginLink"
                           text="Login" onAction="#handleLogin"
                           style="-fx-text-fill: rgba(255, 255, 255, 0.9); -fx-underline: false;
                                  -fx-font-weight: 700; -fx-font-size: 15px;
                                  -fx-padding: 10 20; -fx-border-color: rgba(255, 255, 255, 0.3);
                                  -fx-border-width: 2; -fx-border-radius: 16; -fx-background-radius: 16;"/>

                <Hyperlink fx:id="registerLink"
                           text="Register" onAction="#handleRegister"
                           style="-fx-text-fill: rgba(255, 255, 255, 0.9); -fx-underline: false;
                                  -fx-font-weight: 700; -fx-font-size: 15px;
                                  -fx-padding: 10 20; -fx-border-color: rgba(255, 255, 255, 0.3);
                                  -fx-border-width: 2; -fx-border-radius: 16; -fx-background-radius: 16;"/>

                <Hyperlink fx:id="logoutLink"
                           text="Logout" onAction="#handleLogout"
                           visible="false"
                           style="-fx-text-fill: rgba(255, 255, 255, 0.9); -fx-underline: false;
                                  -fx-font-weight: 600; -fx-font-size: 15px; -fx-padding: 8 16;"/>

                <Hyperlink fx:id="chatLink"
                           text="💬 Chat Assistant" onAction="#handleChat"
                           style="-fx-text-fill: rgba(255, 255, 255, 0.9); -fx-underline: false;
                                  -fx-font-weight: 600; -fx-font-size: 15px; -fx-padding: 8 16;"/>
            </HBox>

            <!-- Search Bar Section -->
            <HBox spacing="8" alignment="CENTER" styleClass="hero">
                <TextField fx:id="searchField" promptText="Search by title or location…" prefWidth="560"/>
                <Button text="Search" onAction="#handleSearch" styleClass="btn btn-primary"/>
            </HBox>
        </VBox>
    </top>

    <!-- ===== Center: Scrollable Content ===== -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="scroller">
            <content>
                <VBox alignment="TOP_CENTER" spacing="50">

                    <!-- === Intro Section (Find Your Perfect Home) === -->
                    <VBox alignment="CENTER" spacing="18"
                          style="-fx-background-color: #E6D5E9;
                                 -fx-padding: 60 20; -fx-background-radius: 0 0 30 30;">
                        <Label text="Find Your Perfect Home"
                               style="-fx-text-fill: #591734; -fx-font-size: 36px; -fx-font-weight: 800;"/>
                        <Label text="Browse thousands of verified listings and discover a place that fits your lifestyle perfectly."
                               wrapText="true"
                               style="-fx-text-fill: #4a132b; -fx-font-size: 16px; -fx-font-weight: 500;"/>
                        <Button text="Browse Properties"
                                onAction="#handleBrowse"
                                styleClass="hero-btn"/>
                    </VBox>

                    <!-- === Featured Section === -->
                    <VBox alignment="CENTER" spacing="6" style="-fx-padding: 40 0 20 0;">
                        <Label text="Featured Properties"
                               style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #591734;"/>
                        <Label text="Check out our most popular listings"
                               style="-fx-text-fill: #666666; -fx-font-size: 15px;"/>
                    </VBox>

                    <GridPane fx:id="featuredGrid" hgap="20" vgap="20" alignment="CENTER">
                        <padding><Insets top="10" right="20" bottom="30" left="20"/></padding>
                    </GridPane>

                    <!-- === How It Works Section === -->
                    <VBox alignment="CENTER" spacing="16" styleClass="how-section">
                        <Label text="How It Works" styleClass="section-title"/>
                        <Label text="Simple steps to find your perfect home" styleClass="section-subtitle"/>
                        <HBox spacing="24" alignment="CENTER">
                            <VBox alignment="CENTER" spacing="10" styleClass="how-card">
                                <Label text="🔍" styleClass="how-icon"/>
                                <Label text="Browse Listings" styleClass="how-card-title"/>
                                <Label text="Search thousands of verified listings that match your needs."
                                       styleClass="how-card-text" wrapText="true"/>
                            </VBox>
                            <VBox alignment="CENTER" spacing="10" styleClass="how-card">
                                <Label text="🏡" styleClass="how-icon"/>
                                <Label text="View Details" styleClass="how-card-title"/>
                                <Label text="See property details, photos, and amenities instantly."
                                       styleClass="how-card-text" wrapText="true"/>
                            </VBox>
                            <VBox alignment="CENTER" spacing="10" styleClass="how-card">
                                <Label text="📝" styleClass="how-icon"/>
                                <Label text="Book or Contact" styleClass="how-card-title"/>
                                <Label text="Chat with the owner or schedule a visit — all in one place."
                                       styleClass="how-card-text" wrapText="true"/>
                            </VBox>
                        </HBox>
                    </VBox>

                    <!-- === CTA Section === -->
                    <HBox alignment="CENTER" spacing="40" styleClass="cta-section">
                        <VBox alignment="CENTER_LEFT" spacing="12" maxWidth="650">
                            <Label text="Join the Future of Renting" styleClass="cta-title"/>
                            <Label text="Whether you're looking for your next home or want to showcase your property to the right tenants — RentNest makes it effortless. Start your journey today."
                                   styleClass="cta-subtitle" wrapText="true"/>
                            <HBox spacing="14">
                                <Button text="Sign Up Now" onAction="#handleRegister" styleClass="cta-button-primary"/>
                                <Button text="Learn More" onAction="#handleLearnMore" styleClass="cta-button-secondary"/>
                            </HBox>
                        </VBox>
                    </HBox>

                    <!-- === Footer (Inside ScrollPane) === -->
                    <VBox alignment="CENTER" spacing="12"
                          style="-fx-background-color: #D3D3D3;
                                 -fx-padding: 20 0;
                                 -fx-border-color: #c2c2c2;
                                 -fx-border-width: 1 0 0 0;">
                        <HBox alignment="CENTER" spacing="80">
                            <VBox alignment="TOP_LEFT" spacing="4">
                                <Label text="Company" style="-fx-text-fill:#591734; -fx-font-size:15; -fx-font-weight:700;"/>
                                <Hyperlink text="About"    style="-fx-text-fill:#591734; -fx-underline:false;"/>
                                <Hyperlink text="Careers"  style="-fx-text-fill:#591734; -fx-underline:false;"/>
                                <Hyperlink text="Blog"     style="-fx-text-fill:#591734; -fx-underline:false;"/>
                            </VBox>

                            <VBox alignment="TOP_LEFT" spacing="4">
                                <Label text="Support" style="-fx-text-fill:#591734; -fx-font-size:15; -fx-font-weight:700;"/>
                                <Hyperlink text="Help Center" style="-fx-text-fill:#591734; -fx-underline:false;"/>
                                <Hyperlink text="Safety"      style="-fx-text-fill:#591734; -fx-underline:false;"/>
                                <Hyperlink text="Contact Us"  style="-fx-text-fill:#591734; -fx-underline:false;"/>
                            </VBox>

                            <VBox alignment="TOP_LEFT" spacing="4">
                                <Label text="Legal" style="-fx-text-fill:#591734; -fx-font-size:15; -fx-font-weight:700;"/>
                                <Hyperlink text="Terms"   style="-fx-text-fill:#591734; -fx-underline:false;"/>
                                <Hyperlink text="Privacy" style="-fx-text-fill:#591734; -fx-underline:false;"/>
                                <Hyperlink text="Cookies" style="-fx-text-fill:#591734; -fx-underline:false;"/>
                            </VBox>
                        </HBox>

                        <Separator prefWidth="900"/>
                        <HBox alignment="CENTER" style="-fx-background-color: #D3D3D3;">
                            <Label text="© 2025 RentNest — All rights reserved."
                                   style="-fx-text-fill:#591734; -fx-font-size:12px; -fx-padding:10 0 8 0;"/>
                        </HBox>
                    </VBox>

                </VBox>
            </content>
        </ScrollPane>
    </center>

</BorderPane>
